(function(){"use strict";try{if(typeof document<"u"){var l=document.createElement("style");l.appendChild(document.createTextNode('#callisto .filter{--callisto-blur: ;--callisto-brightness: ;--callisto-contrast: ;--callisto-grayscale: ;--callisto-hue-rotate: ;--callisto-invert: ;--callisto-saturate: ;--callisto-sepia: ;--callisto-drop-shadow: }#callisto .relative{position:relative}#callisto .m-0{margin:0}#callisto .-my-1{margin-top:-.25rem;margin-bottom:-.25rem}#callisto .mx-auto{margin-left:auto;margin-right:auto}#callisto .flex{display:flex}#callisto .inline-flex{display:inline-flex}#callisto .table{display:table}#callisto .h-full{height:100%}#callisto .w-full{width:100%}#callisto .min-w-\\[theme\\(spacing\\.32\\)\\]{min-width:8rem}#callisto .max-w-6xl{max-width:72rem}#callisto .flex-1{flex:1 1 0%}#callisto .cursor-grab{cursor:grab}#callisto .cursor-grabbing{cursor:grabbing}#callisto .touch-none{touch-action:none}#callisto .select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}#callisto .flex-col{flex-direction:column}#callisto .flex-wrap{flex-wrap:wrap}#callisto .items-baseline{align-items:baseline}#callisto .justify-center{justify-content:center}#callisto .gap-3{gap:.75rem}#callisto .rounded-lg{border-radius:.5rem}#callisto .bg-lime-100{--callisto-bg-opacity: 1;background-color:rgb(236 252 203 / var(--callisto-bg-opacity))}#callisto .bg-lime-200{--callisto-bg-opacity: 1;background-color:rgb(217 249 157 / var(--callisto-bg-opacity))}#callisto .bg-neutral-100{--callisto-bg-opacity: 1;background-color:rgb(245 245 245 / var(--callisto-bg-opacity))}#callisto .bg-transparent{background-color:transparent}#callisto .p-2{padding:.5rem}#callisto .p-6{padding:1.5rem}#callisto .px-2{padding-left:.5rem;padding-right:.5rem}#callisto .py-1{padding-top:.25rem;padding-bottom:.25rem}#callisto .text-center{text-align:center}#callisto .font-sans{font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}#callisto .text-4xl{font-size:2.25rem;line-height:2.5rem}#callisto .font-semibold{font-weight:600}#callisto .opacity-50{opacity:.5}#callisto .filter{filter:var(--callisto-blur) var(--callisto-brightness) var(--callisto-contrast) var(--callisto-grayscale) var(--callisto-hue-rotate) var(--callisto-invert) var(--callisto-saturate) var(--callisto-sepia) var(--callisto-drop-shadow)}')),document.head.appendChild(l)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
import N,{useLayoutEffect as Zn,useEffect as M,useRef as O,useMemo as I,useCallback as _,useState as X,createContext as me,memo as er,useReducer as Ct,useContext as ae,cloneElement as tr,forwardRef as nt,useDebugValue as ys,useImperativeHandle as nr}from"react";import{unstable_batchedUpdates as Ne,createPortal as rr}from"react-dom";function or(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hn={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=N,ir=Symbol.for("react.element"),cr=Symbol.for("react.fragment"),ar=Object.prototype.hasOwnProperty,lr=sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ur={key:!0,ref:!0,__self:!0,__source:!0};function gn(e,t,n){var r,o={},s=null,i=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)ar.call(t,r)&&!ur.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:ir,type:e,key:s,ref:i,props:o,_owner:lr.current}}rt.Fragment=cr;rt.jsx=gn;rt.jsxs=gn;hn.exports=rt;var P=hn.exports;const ot=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Ot(e){return"nodeType"in e}function F(e){var t,n;return e?xe(e)?e:Ot(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function At(e){const{Document:t}=F(e);return e instanceof t}function Be(e){return xe(e)?!1:e instanceof F(e).HTMLElement}function dr(e){return e instanceof F(e).SVGElement}function Se(e){return e?xe(e)?e.document:Ot(e)?At(e)?e:Be(e)?e.ownerDocument:document:document:document}const te=ot?Zn:M;function st(e){const t=O(e);return te(()=>{t.current=e}),_(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function fr(){const e=O(null),t=_((r,o)=>{e.current=setInterval(r,o)},[]),n=_(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Ie(e,t){t===void 0&&(t=[e]);const n=O(e);return te(()=>{n.current!==e&&(n.current=e)},t),n}function ze(e,t){const n=O();return I(()=>{const r=e(n.current);return n.current=r,r},[...t])}function He(e){const t=st(e),n=O(null),r=_(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function Ge(e){const t=O();return M(()=>{t.current=e},[e]),t.current}let gt={};function it(e,t){return I(()=>{if(t)return t;const n=gt[e]==null?0:gt[e]+1;return gt[e]=n,e+"-"+n},[e,t])}function pn(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const c=Object.entries(i);for(const[l,a]of c){const u=s[l];u!=null&&(s[l]=u+e*a)}return s},{...t})}}const ye=pn(1),Qe=pn(-1);function hr(e){return"clientX"in e&&"clientY"in e}function Nt(e){if(!e)return!1;const{KeyboardEvent:t}=F(e.target);return t&&e instanceof t}function gr(e){if(!e)return!1;const{TouchEvent:t}=F(e.target);return t&&e instanceof t}function Ze(e){if(gr(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return hr(e)?{x:e.clientX,y:e.clientY}:null}const je=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[je.Translate.toString(e),je.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Gt="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function pr(e){return e.matches(Gt)?e:e.querySelector(Gt)}const vr={display:"none"};function br(e){let{id:t,value:n}=e;return N.createElement("div",{id:t,style:vr},n)}const yr={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function wr(e){let{id:t,announcement:n}=e;return N.createElement("div",{id:t,style:yr,role:"status","aria-live":"assertive","aria-atomic":!0},n)}function mr(){const[e,t]=X("");return{announce:_(r=>{r!=null&&t(r)},[]),announcement:e}}const vn=me(null);function xr(e){const t=ae(vn);M(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Sr(){const[e]=X(()=>new Set),t=_(r=>(e.add(r),()=>e.delete(r)),[e]);return[_(r=>{let{type:o,event:s}=r;e.forEach(i=>{var c;return(c=i[o])==null?void 0:c.call(i,s)})},[e]),t]}const Dr={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Er={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Rr(e){let{announcements:t=Er,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=Dr}=e;const{announce:s,announcement:i}=mr(),c=it("DndLiveRegion"),[l,a]=X(!1);if(M(()=>{a(!0)},[]),xr(I(()=>({onDragStart(d){let{active:g}=d;s(t.onDragStart({active:g}))},onDragMove(d){let{active:g,over:h}=d;t.onDragMove&&s(t.onDragMove({active:g,over:h}))},onDragOver(d){let{active:g,over:h}=d;s(t.onDragOver({active:g,over:h}))},onDragEnd(d){let{active:g,over:h}=d;s(t.onDragEnd({active:g,over:h}))},onDragCancel(d){let{active:g,over:h}=d;s(t.onDragCancel({active:g,over:h}))}}),[s,t])),!l)return null;const u=N.createElement(N.Fragment,null,N.createElement(br,{id:r,value:o.draggable}),N.createElement(wr,{id:c,announcement:i}));return n?rr(u,n):u}var k;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(k||(k={}));function et(){}const Z=Object.freeze({x:0,y:0});function Cr(e,t){const n=Ze(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function Or(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Ar(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Nr(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),i=o-r,c=s-n;if(r<o&&n<s){const l=t.width*t.height,a=e.width*e.height,u=i*c,d=u/(l+a-u);return Number(d.toFixed(4))}return 0}const Mr=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const s of r){const{id:i}=s,c=n.get(i);if(c){const l=Nr(c,t);l>0&&o.push({id:i,data:{droppableContainer:s,value:l}})}}return o.sort(Or)};function Tr(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function bn(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Z}function Lr(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return o.reduce((i,c)=>({...i,top:i.top+e*c.y,bottom:i.bottom+e*c.y,left:i.left+e*c.x,right:i.right+e*c.x}),{...n})}}const Pr=Lr(1);function yn(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Ir(e,t,n){const r=yn(t);if(!r)return e;const{scaleX:o,scaleY:s,x:i,y:c}=r,l=e.left-i-(1-o)*parseFloat(n),a=e.top-c-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),u=o?e.width/o:e.width,d=s?e.height/s:e.height;return{width:u,height:d,top:a,right:l+u,bottom:a+d,left:l}}const jr={ignoreTransform:!1};function _e(e,t){t===void 0&&(t=jr);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:a,transformOrigin:u}=F(e).getComputedStyle(e);a&&(n=Ir(n,a,u))}const{top:r,left:o,width:s,height:i,bottom:c,right:l}=n;return{top:r,left:o,width:s,height:i,bottom:c,right:l}}function Qt(e){return _e(e,{ignoreTransform:!0})}function kr(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Br(e,t){return t===void 0&&(t=F(e).getComputedStyle(e)),t.position==="fixed"}function zr(e,t){t===void 0&&(t=F(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})}function Mt(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(At(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Be(o)||dr(o)||n.includes(o))return n;const s=F(e).getComputedStyle(o);return o!==e&&zr(o,s)&&n.push(o),Br(o,s)?n:r(o.parentNode)}return e?r(e):n}function wn(e){const[t]=Mt(e,1);return t??null}function pt(e){return!ot||!e?null:xe(e)?e:Ot(e)?At(e)||e===Se(e).scrollingElement?window:Be(e)?e:null:null}function mn(e){return xe(e)?e.scrollX:e.scrollLeft}function xn(e){return xe(e)?e.scrollY:e.scrollTop}function xt(e){return{x:mn(e),y:xn(e)}}var B;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(B||(B={}));function Sn(e){return!ot||!e?!1:e===document.scrollingElement}function Dn(e){const t={x:0,y:0},n=Sn(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,i=e.scrollTop>=r.y,c=e.scrollLeft>=r.x;return{isTop:o,isLeft:s,isBottom:i,isRight:c,maxScroll:r,minScroll:t}}const _r={x:.2,y:.2};function $r(e,t,n,r,o){let{top:s,left:i,right:c,bottom:l}=n;r===void 0&&(r=10),o===void 0&&(o=_r);const{isTop:a,isBottom:u,isLeft:d,isRight:g}=Dn(e),h={x:0,y:0},m={x:0,y:0},f={height:t.height*o.y,width:t.width*o.x};return!a&&s<=t.top+f.height?(h.y=B.Backward,m.y=r*Math.abs((t.top+f.height-s)/f.height)):!u&&l>=t.bottom-f.height&&(h.y=B.Forward,m.y=r*Math.abs((t.bottom-f.height-l)/f.height)),!g&&c>=t.right-f.width?(h.x=B.Forward,m.x=r*Math.abs((t.right-f.width-c)/f.width)):!d&&i<=t.left+f.width&&(h.x=B.Backward,m.x=r*Math.abs((t.left+f.width-i)/f.width)),{direction:h,speed:m}}function Fr(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function En(e){return e.reduce((t,n)=>ye(t,xt(n)),Z)}function Wr(e){return e.reduce((t,n)=>t+mn(n),0)}function Kr(e){return e.reduce((t,n)=>t+xn(n),0)}function Rn(e,t){if(t===void 0&&(t=_e),!e)return;const{top:n,left:r,bottom:o,right:s}=t(e);wn(e)&&(o<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Vr=[["x",["left","right"],Wr],["y",["top","bottom"],Kr]];class Tt{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=Mt(n),o=En(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,i,c]of Vr)for(const l of i)Object.defineProperty(this,l,{get:()=>{const a=c(r),u=o[s]-a;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Te{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Xr(e){const{EventTarget:t}=F(e);return e instanceof t?e:Se(e)}function vt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var U;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(U||(U={}));function Zt(e){e.preventDefault()}function Yr(e){e.stopPropagation()}var C;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(C||(C={}));const Cn={start:[C.Space,C.Enter],cancel:[C.Esc],end:[C.Space,C.Enter]},Ur=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case C.Right:return{...n,x:n.x+25};case C.Left:return{...n,x:n.x-25};case C.Down:return{...n,y:n.y+25};case C.Up:return{...n,y:n.y-25}}};class On{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Te(Se(n)),this.windowListeners=new Te(F(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(U.Resize,this.handleCancel),this.windowListeners.add(U.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(U.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Rn(r),n(Z)}handleKeyDown(t){if(Nt(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:s=Cn,coordinateGetter:i=Ur,scrollBehavior:c="smooth"}=o,{code:l}=t;if(s.end.includes(l)){this.handleEnd(t);return}if(s.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:a}=r.current,u=a?{x:a.left,y:a.top}:Z;this.referenceCoordinates||(this.referenceCoordinates=u);const d=i(t,{active:n,context:r.current,currentCoordinates:u});if(d){const g=Qe(d,u),h={x:0,y:0},{scrollableAncestors:m}=r.current;for(const f of m){const w=t.code,{isTop:b,isRight:E,isLeft:S,isBottom:j,maxScroll:R,minScroll:A}=Dn(f),x=Fr(f),D={x:Math.min(w===C.Right?x.right-x.width/2:x.right,Math.max(w===C.Right?x.left:x.left+x.width/2,d.x)),y:Math.min(w===C.Down?x.bottom-x.height/2:x.bottom,Math.max(w===C.Down?x.top:x.top+x.height/2,d.y))},y=w===C.Right&&!E||w===C.Left&&!S,v=w===C.Down&&!j||w===C.Up&&!b;if(y&&D.x!==d.x){const p=f.scrollLeft+g.x,T=w===C.Right&&p<=R.x||w===C.Left&&p>=A.x;if(T&&!g.y){f.scrollTo({left:p,behavior:c});return}T?h.x=f.scrollLeft-p:h.x=w===C.Right?f.scrollLeft-R.x:f.scrollLeft-A.x,h.x&&f.scrollBy({left:-h.x,behavior:c});break}else if(v&&D.y!==d.y){const p=f.scrollTop+g.y,T=w===C.Down&&p<=R.y||w===C.Up&&p>=A.y;if(T&&!g.x){f.scrollTo({top:p,behavior:c});return}T?h.y=f.scrollTop-p:h.y=w===C.Down?f.scrollTop-R.y:f.scrollTop-A.y,h.y&&f.scrollBy({top:-h.y,behavior:c});break}}this.handleMove(t,ye(Qe(d,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}On.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Cn,onActivation:o}=t,{active:s}=n;const{code:i}=e.nativeEvent;if(r.start.includes(i)){const c=s.activatorNode.current;return c&&e.target!==c?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function en(e){return!!(e&&"distance"in e)}function tn(e){return!!(e&&"delay"in e)}class Lt{constructor(t,n,r){var o;r===void 0&&(r=Xr(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:i}=s;this.props=t,this.events=n,this.document=Se(i),this.documentListeners=new Te(this.document),this.listeners=new Te(r),this.windowListeners=new Te(F(i)),this.initialCoordinates=(o=Ze(s))!=null?o:Z,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(U.Resize,this.handleCancel),this.windowListeners.add(U.DragStart,Zt),this.windowListeners.add(U.VisibilityChange,this.handleCancel),this.windowListeners.add(U.ContextMenu,Zt),this.documentListeners.add(U.Keydown,this.handleKeydown),n){if(en(n))return;if(tn(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(U.Click,Yr,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(U.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:s}=this,{onMove:i,options:{activationConstraint:c}}=s;if(!o)return;const l=(n=Ze(t))!=null?n:Z,a=Qe(o,l);if(!r&&c){if(tn(c))return vt(a,c.tolerance)?this.handleCancel():void 0;if(en(c))return c.tolerance!=null&&vt(a,c.tolerance)?this.handleCancel():vt(a,c.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),i(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===C.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const qr={move:{name:"pointermove"},end:{name:"pointerup"}};class An extends Lt{constructor(t){const{event:n}=t,r=Se(n.target);super(t,qr,r)}}An.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const Jr={move:{name:"mousemove"},end:{name:"mouseup"}};var St;(function(e){e[e.RightClick=2]="RightClick"})(St||(St={}));class Hr extends Lt{constructor(t){super(t,Jr,Se(t.event.target))}}Hr.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===St.RightClick?!1:(r==null||r({event:n}),!0)}}];const bt={move:{name:"touchmove"},end:{name:"touchend"}};class Gr extends Lt{constructor(t){super(t,bt)}static setup(){return window.addEventListener(bt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(bt.move.name,t)};function t(){}}}Gr.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var Le;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Le||(Le={}));var tt;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(tt||(tt={}));function Qr(e){let{acceleration:t,activator:n=Le.Pointer,canScroll:r,draggingRect:o,enabled:s,interval:i=5,order:c=tt.TreeOrder,pointerCoordinates:l,scrollableAncestors:a,scrollableAncestorRects:u,delta:d,threshold:g}=e;const h=eo({delta:d,disabled:!s}),[m,f]=fr(),w=O({x:0,y:0}),b=O({x:0,y:0}),E=I(()=>{switch(n){case Le.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Le.DraggableRect:return o}},[n,o,l]),S=O(null),j=_(()=>{const A=S.current;if(!A)return;const x=w.current.x*b.current.x,D=w.current.y*b.current.y;A.scrollBy(x,D)},[]),R=I(()=>c===tt.TreeOrder?[...a].reverse():a,[c,a]);M(()=>{if(!s||!a.length||!E){f();return}for(const A of R){if((r==null?void 0:r(A))===!1)continue;const x=a.indexOf(A),D=u[x];if(!D)continue;const{direction:y,speed:v}=$r(A,D,E,t,g);for(const p of["x","y"])h[p][y[p]]||(v[p]=0,y[p]=0);if(v.x>0||v.y>0){f(),S.current=A,m(j,i),w.current=v,b.current=y;return}}w.current={x:0,y:0},b.current={x:0,y:0},f()},[t,j,r,f,s,i,JSON.stringify(E),JSON.stringify(h),m,a,R,u,JSON.stringify(g)])}const Zr={x:{[B.Backward]:!1,[B.Forward]:!1},y:{[B.Backward]:!1,[B.Forward]:!1}};function eo(e){let{delta:t,disabled:n}=e;const r=Ge(t);return ze(o=>{if(n||!r||!o)return Zr;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[B.Backward]:o.x[B.Backward]||s.x===-1,[B.Forward]:o.x[B.Forward]||s.x===1},y:{[B.Backward]:o.y[B.Backward]||s.y===-1,[B.Forward]:o.y[B.Forward]||s.y===1}}},[n,t,r])}function to(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return ze(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function no(e,t){return I(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}var ke;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ke||(ke={}));var Dt;(function(e){e.Optimized="optimized"})(Dt||(Dt={}));const nn=new Map;function ro(e,t){let{dragging:n,dependencies:r,config:o}=t;const[s,i]=X(null),{frequency:c,measure:l,strategy:a}=o,u=O(e),d=w(),g=Ie(d),h=_(function(b){b===void 0&&(b=[]),!g.current&&i(E=>E===null?b:E.concat(b.filter(S=>!E.includes(S))))},[g]),m=O(null),f=ze(b=>{if(d&&!n)return nn;if(!b||b===nn||u.current!==e||s!=null){const E=new Map;for(let S of e){if(!S)continue;if(s&&s.length>0&&!s.includes(S.id)&&S.rect.current){E.set(S.id,S.rect.current);continue}const j=S.node.current,R=j?new Tt(l(j),j):null;S.rect.current=R,R&&E.set(S.id,R)}return E}return b},[e,s,n,d,l]);return M(()=>{u.current=e},[e]),M(()=>{d||h()},[n,d]),M(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),M(()=>{d||typeof c!="number"||m.current!==null||(m.current=setTimeout(()=>{h(),m.current=null},c))},[c,d,h,...r]),{droppableRects:f,measureDroppableContainers:h,measuringScheduled:s!=null};function w(){switch(a){case ke.Always:return!1;case ke.BeforeDragging:return n;default:return!n}}}function Pt(e,t){return ze(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function oo(e,t){return Pt(e,t)}function so(e){let{callback:t,disabled:n}=e;const r=st(t),o=I(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return M(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function ct(e){let{callback:t,disabled:n}=e;const r=st(t),o=I(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return M(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function io(e){return new Tt(_e(e),e)}function rn(e,t,n){t===void 0&&(t=io);const[r,o]=Ct(c,null),s=so({callback(l){if(e)for(const a of l){const{type:u,target:d}=a;if(u==="childList"&&d instanceof HTMLElement&&d.contains(e)){o();break}}}}),i=ct({callback:o});return te(()=>{o(),e?(i==null||i.observe(e),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),s==null||s.disconnect())},[e]),r;function c(l){if(!e)return null;if(e.isConnected===!1){var a;return(a=l??n)!=null?a:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function co(e){const t=Pt(e);return bn(e,t)}const on=[];function ao(e){const t=O(e),n=ze(r=>e?r&&r!==on&&e&&t.current&&e.parentNode===t.current.parentNode?r:Mt(e):on,[e]);return M(()=>{t.current=e},[e]),n}function lo(e){const[t,n]=X(null),r=O(e),o=_(s=>{const i=pt(s.target);i&&n(c=>c?(c.set(i,xt(i)),new Map(c)):null)},[]);return M(()=>{const s=r.current;if(e!==s){i(s);const c=e.map(l=>{const a=pt(l);return a?(a.addEventListener("scroll",o,{passive:!0}),[a,xt(a)]):null}).filter(l=>l!=null);n(c.length?new Map(c):null),r.current=e}return()=>{i(e),i(s)};function i(c){c.forEach(l=>{const a=pt(l);a==null||a.removeEventListener("scroll",o)})}},[o,e]),I(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>ye(s,i),Z):En(e):Z,[e,t])}function sn(e,t){t===void 0&&(t=[]);const n=O(null);return M(()=>{n.current=null},t),M(()=>{const r=e!==Z;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Qe(e,n.current):Z}function uo(e){M(()=>{if(!ot)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function fo(e,t){return I(()=>e.reduce((n,r)=>{let{eventName:o,handler:s}=r;return n[o]=i=>{s(i,t)},n},{}),[e,t])}function Nn(e){return I(()=>e?kr(e):null,[e])}const yt=[];function ho(e,t){t===void 0&&(t=_e);const[n]=e,r=Nn(n?F(n):null),[o,s]=Ct(c,yt),i=ct({callback:s});return e.length>0&&o===yt&&s(),te(()=>{e.length?e.forEach(l=>i==null?void 0:i.observe(l)):(i==null||i.disconnect(),s())},[e]),o;function c(){return e.length?e.map(l=>Sn(l)?r:new Tt(t(l),l)):yt}}function Mn(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Be(t)?t:e}function go(e){let{measure:t}=e;const[n,r]=X(null),o=_(a=>{for(const{target:u}of a)if(Be(u)){r(d=>{const g=t(u);return d?{...d,width:g.width,height:g.height}:g});break}},[t]),s=ct({callback:o}),i=_(a=>{const u=Mn(a);s==null||s.disconnect(),u&&(s==null||s.observe(u)),r(u?t(u):null)},[t,s]),[c,l]=He(i);return I(()=>({nodeRef:c,rect:n,setRef:l}),[n,c,l])}const po=[{sensor:An,options:{}},{sensor:On,options:{}}],vo={current:{}},qe={draggable:{measure:Qt},droppable:{measure:Qt,strategy:ke.WhileDragging,frequency:Dt.Optimized},dragOverlay:{measure:_e}};class Pe extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const bo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Pe,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:et},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qe,measureDroppableContainers:et,windowRect:null,measuringScheduled:!1},Tn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:et,draggableNodes:new Map,over:null,measureDroppableContainers:et},$e=me(Tn),Ln=me(bo);function yo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Pe}}}function wo(e,t){switch(t.type){case k.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case k.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case k.DragEnd:case k.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case k.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Pe(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case k.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new Pe(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case k.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Pe(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function mo(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=ae($e),s=Ge(r),i=Ge(n==null?void 0:n.id);return M(()=>{if(!t&&!r&&s&&i!=null){if(!Nt(s)||document.activeElement===s.target)return;const c=o.get(i);if(!c)return;const{activatorNode:l,node:a}=c;if(!l.current&&!a.current)return;requestAnimationFrame(()=>{for(const u of[l.current,a.current]){if(!u)continue;const d=pr(u);if(d){d.focus();break}}})}},[r,t,o,i,s]),null}function Pn(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,s)=>s({transform:o,...r}),n):n}function xo(e){return I(()=>({draggable:{...qe.draggable,...e==null?void 0:e.draggable},droppable:{...qe.droppable,...e==null?void 0:e.droppable},dragOverlay:{...qe.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function So(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const s=O(!1),{x:i,y:c}=typeof o=="boolean"?{x:o,y:o}:o;te(()=>{if(!i&&!c||!t){s.current=!1;return}if(s.current||!r)return;const a=t==null?void 0:t.node.current;if(!a||a.isConnected===!1)return;const u=n(a),d=bn(u,r);if(i||(d.x=0),c||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){const g=wn(a);g&&g.scrollBy({top:d.y,left:d.x})}},[t,i,c,r,n])}const at=me({...Z,scaleX:1,scaleY:1});var ie;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ie||(ie={}));const Do=er(function(t){var n,r,o,s;let{id:i,accessibility:c,autoScroll:l=!0,children:a,sensors:u=po,collisionDetection:d=Mr,measuring:g,modifiers:h,...m}=t;const f=Ct(wo,void 0,yo),[w,b]=f,[E,S]=Sr(),[j,R]=X(ie.Uninitialized),A=j===ie.Initialized,{draggable:{active:x,nodes:D,translate:y},droppable:{containers:v}}=w,p=x?D.get(x):null,T=O({initial:null,translated:null}),$=I(()=>{var z;return x!=null?{id:x,data:(z=p==null?void 0:p.data)!=null?z:vo,rect:T}:null},[x,p]),W=O(null),[le,q]=X(null),[ne,jt]=X(null),De=Ie(m,Object.values(m)),ut=it("DndDescribedBy",i),kt=I(()=>v.getEnabled(),[v]),ue=xo(g),{droppableRects:he,measureDroppableContainers:Fe,measuringScheduled:Bt}=ro(kt,{dragging:A,dependencies:[y.x,y.y],config:ue.droppable}),J=to(D,x),zt=I(()=>ne?Ze(ne):null,[ne]),_t=Qn(),$t=oo(J,ue.draggable.measure);So({activeNode:x?D.get(x):null,config:_t.layoutShiftCompensation,initialRect:$t,measure:ue.draggable.measure});const H=rn(J,ue.draggable.measure,$t),dt=rn(J?J.parentElement:null),de=O({activatorEvent:null,active:null,activeNode:J,collisionRect:null,collisions:null,droppableRects:he,draggableNodes:D,draggingNode:null,draggingNodeRect:null,droppableContainers:v,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ft=v.getNodeFor((n=de.current.over)==null?void 0:n.id),fe=go({measure:ue.dragOverlay.measure}),We=(r=fe.nodeRef.current)!=null?r:J,ge=A?(o=fe.rect)!=null?o:H:null,Wt=!!(fe.nodeRef.current&&fe.rect),Kt=co(Wt?null:H),ft=Nn(We?F(We):null),re=ao(A?Ft??J:null),Ke=ho(re),Ve=Pn(h,{transform:{x:y.x-Kt.x,y:y.y-Kt.y,scaleX:1,scaleY:1},activatorEvent:ne,active:$,activeNodeRect:H,containerNodeRect:dt,draggingNodeRect:ge,over:de.current.over,overlayNodeRect:fe.rect,scrollableAncestors:re,scrollableAncestorRects:Ke,windowRect:ft}),Vt=zt?ye(zt,y):null,Xt=lo(re),Xn=sn(Xt),Yn=sn(Xt,[H]),pe=ye(Ve,Xn),ve=ge?Pr(ge,Ve):null,Ee=$&&ve?d({active:$,collisionRect:ve,droppableRects:he,droppableContainers:kt,pointerCoordinates:Vt}):null,Yt=Ar(Ee,"id"),[oe,Ut]=X(null),Un=Wt?Ve:ye(Ve,Yn),qn=Tr(Un,(s=oe==null?void 0:oe.rect)!=null?s:null,H),qt=_((z,K)=>{let{sensor:V,options:se}=K;if(W.current==null)return;const Y=D.get(W.current);if(!Y)return;const G=z.nativeEvent,ee=new V({active:W.current,activeNode:Y,event:G,options:se,context:de,onStart(Q){const Re=W.current;if(Re==null)return;const Ce=D.get(Re);if(!Ce)return;const{onDragStart:Xe}=De.current,Ye={active:{id:Re,data:Ce.data,rect:T}};Ne(()=>{Xe==null||Xe(Ye),R(ie.Initializing),b({type:k.DragStart,initialCoordinates:Q,active:Re}),E({type:"onDragStart",event:Ye})})},onMove(Q){b({type:k.DragMove,coordinates:Q})},onEnd:be(k.DragEnd),onCancel:be(k.DragCancel)});Ne(()=>{q(ee),jt(z.nativeEvent)});function be(Q){return async function(){const{active:Ce,collisions:Xe,over:Ye,scrollAdjustedTranslate:Ht}=de.current;let Oe=null;if(Ce&&Ht){const{cancelDrop:Ae}=De.current;Oe={activatorEvent:G,active:Ce,collisions:Xe,delta:Ht,over:Ye},Q===k.DragEnd&&typeof Ae=="function"&&await Promise.resolve(Ae(Oe))&&(Q=k.DragCancel)}W.current=null,Ne(()=>{b({type:Q}),R(ie.Uninitialized),Ut(null),q(null),jt(null);const Ae=Q===k.DragEnd?"onDragEnd":"onDragCancel";if(Oe){const ht=De.current[Ae];ht==null||ht(Oe),E({type:Ae,event:Oe})}})}}},[D]),Jn=_((z,K)=>(V,se)=>{const Y=V.nativeEvent,G=D.get(se);if(W.current!==null||!G||Y.dndKit||Y.defaultPrevented)return;const ee={active:G};z(V,K.options,ee)===!0&&(Y.dndKit={capturedBy:K.sensor},W.current=se,qt(V,K))},[D,qt]),Jt=no(u,Jn);uo(u),te(()=>{H&&j===ie.Initializing&&R(ie.Initialized)},[H,j]),M(()=>{const{onDragMove:z}=De.current,{active:K,activatorEvent:V,collisions:se,over:Y}=de.current;if(!K||!V)return;const G={active:K,activatorEvent:V,collisions:se,delta:{x:pe.x,y:pe.y},over:Y};Ne(()=>{z==null||z(G),E({type:"onDragMove",event:G})})},[pe.x,pe.y]),M(()=>{const{active:z,activatorEvent:K,collisions:V,droppableContainers:se,scrollAdjustedTranslate:Y}=de.current;if(!z||W.current==null||!K||!Y)return;const{onDragOver:G}=De.current,ee=se.get(Yt),be=ee&&ee.rect.current?{id:ee.id,rect:ee.rect.current,data:ee.data,disabled:ee.disabled}:null,Q={active:z,activatorEvent:K,collisions:V,delta:{x:Y.x,y:Y.y},over:be};Ne(()=>{Ut(be),G==null||G(Q),E({type:"onDragOver",event:Q})})},[Yt]),te(()=>{de.current={activatorEvent:ne,active:$,activeNode:J,collisionRect:ve,collisions:Ee,droppableRects:he,draggableNodes:D,draggingNode:We,draggingNodeRect:ge,droppableContainers:v,over:oe,scrollableAncestors:re,scrollAdjustedTranslate:pe},T.current={initial:ge,translated:ve}},[$,J,Ee,ve,D,We,ge,he,v,oe,re,pe]),Qr({..._t,delta:y,draggingRect:ve,pointerCoordinates:Vt,scrollableAncestors:re,scrollableAncestorRects:Ke});const Hn=I(()=>({active:$,activeNode:J,activeNodeRect:H,activatorEvent:ne,collisions:Ee,containerNodeRect:dt,dragOverlay:fe,draggableNodes:D,droppableContainers:v,droppableRects:he,over:oe,measureDroppableContainers:Fe,scrollableAncestors:re,scrollableAncestorRects:Ke,measuringConfiguration:ue,measuringScheduled:Bt,windowRect:ft}),[$,J,H,ne,Ee,dt,fe,D,v,he,oe,Fe,re,Ke,ue,Bt,ft]),Gn=I(()=>({activatorEvent:ne,activators:Jt,active:$,activeNodeRect:H,ariaDescribedById:{draggable:ut},dispatch:b,draggableNodes:D,over:oe,measureDroppableContainers:Fe}),[ne,Jt,$,H,b,ut,D,oe,Fe]);return N.createElement(vn.Provider,{value:S},N.createElement($e.Provider,{value:Gn},N.createElement(Ln.Provider,{value:Hn},N.createElement(at.Provider,{value:qn},a)),N.createElement(mo,{disabled:(c==null?void 0:c.restoreFocus)===!1})),N.createElement(Rr,{...c,hiddenTextDescribedById:ut}));function Qn(){const z=(le==null?void 0:le.autoScrollEnabled)===!1,K=typeof l=="object"?l.enabled===!1:l===!1,V=A&&!z&&!K;return typeof l=="object"?{...l,enabled:V}:{enabled:V}}}),Eo=me(null),cn="button",Ro="Droppable";function Co(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const s=it(Ro),{activators:i,activatorEvent:c,active:l,activeNodeRect:a,ariaDescribedById:u,draggableNodes:d,over:g}=ae($e),{role:h=cn,roleDescription:m="draggable",tabIndex:f=0}=o??{},w=(l==null?void 0:l.id)===t,b=ae(w?at:Eo),[E,S]=He(),[j,R]=He(),A=fo(i,t),x=Ie(n);te(()=>(d.set(t,{id:t,key:s,node:E,activatorNode:j,data:x}),()=>{const y=d.get(t);y&&y.key===s&&d.delete(t)}),[d,t]);const D=I(()=>({role:h,tabIndex:f,"aria-disabled":r,"aria-pressed":w&&h===cn?!0:void 0,"aria-roledescription":m,"aria-describedby":u.draggable}),[r,h,f,w,m,u.draggable]);return{active:l,activatorEvent:c,activeNodeRect:a,attributes:D,isDragging:w,listeners:r?void 0:A,node:E,over:g,setNodeRef:S,setActivatorNodeRef:R,transform:b}}function Oo(){return ae(Ln)}const Ao="Droppable",No={timeout:25};function In(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const s=it(Ao),{active:i,dispatch:c,over:l,measureDroppableContainers:a}=ae($e),u=O({disabled:n}),d=O(!1),g=O(null),h=O(null),{disabled:m,updateMeasurementsFor:f,timeout:w}={...No,...o},b=Ie(f??r),E=_(()=>{if(!d.current){d.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{a(Array.isArray(b.current)?b.current:[b.current]),h.current=null},w)},[w]),S=ct({callback:E,disabled:m||!i}),j=_((D,y)=>{S&&(y&&(S.unobserve(y),d.current=!1),D&&S.observe(D))},[S]),[R,A]=He(j),x=Ie(t);return M(()=>{!S||!R.current||(S.disconnect(),d.current=!1,S.observe(R.current))},[R,S]),te(()=>(c({type:k.RegisterDroppable,element:{id:r,key:s,disabled:n,node:R,rect:g,data:x}}),()=>c({type:k.UnregisterDroppable,key:s,id:r})),[r]),M(()=>{n!==u.current.disabled&&(c({type:k.SetDroppableDisabled,id:r,key:s,disabled:n}),u.current.disabled=n)},[r,s,n,c]),{active:i,rect:g,isOver:(l==null?void 0:l.id)===r,node:R,over:l,setNodeRef:A}}function Mo(e){let{animation:t,children:n}=e;const[r,o]=X(null),[s,i]=X(null),c=Ge(n);return!n&&!r&&c&&o(c),te(()=>{if(!s)return;const l=r==null?void 0:r.key,a=r==null?void 0:r.props.id;if(l==null||a==null){o(null);return}Promise.resolve(t(a,s)).then(()=>{o(null)})},[t,r,s]),N.createElement(N.Fragment,null,n,r?tr(r,{ref:i}):null)}const To={x:0,y:0,scaleX:1,scaleY:1};function Lo(e){let{children:t}=e;return N.createElement($e.Provider,{value:Tn},N.createElement(at.Provider,{value:To},t))}const Po={position:"fixed",touchAction:"none"},Io=e=>Nt(e)?"transform 250ms ease":void 0,jo=nt((e,t)=>{let{as:n,activatorEvent:r,adjustScale:o,children:s,className:i,rect:c,style:l,transform:a,transition:u=Io}=e;if(!c)return null;const d=o?a:{...a,scaleX:1,scaleY:1},g={...Po,width:c.width,height:c.height,top:c.top,left:c.left,transform:je.Transform.toString(d),transformOrigin:o&&r?Cr(r,c):void 0,transition:typeof u=="function"?u(r):u,...l};return N.createElement(n,{className:i,style:g,ref:t},s)}),ko=e=>t=>{let{active:n,dragOverlay:r}=t;const o={},{styles:s,className:i}=e;if(s!=null&&s.active)for(const[c,l]of Object.entries(s.active))l!==void 0&&(o[c]=n.node.style.getPropertyValue(c),n.node.style.setProperty(c,l));if(s!=null&&s.dragOverlay)for(const[c,l]of Object.entries(s.dragOverlay))l!==void 0&&r.node.style.setProperty(c,l);return i!=null&&i.active&&n.node.classList.add(i.active),i!=null&&i.dragOverlay&&r.node.classList.add(i.dragOverlay),function(){for(const[l,a]of Object.entries(o))n.node.style.setProperty(l,a);i!=null&&i.active&&n.node.classList.remove(i.active)}},Bo=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:je.Transform.toString(t)},{transform:je.Transform.toString(n)}]},zo={duration:250,easing:"ease",keyframes:Bo,sideEffects:ko({styles:{active:{opacity:"0"}}})};function _o(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:o}=e;return st((s,i)=>{if(t===null)return;const c=n.get(s);if(!c)return;const l=c.node.current;if(!l)return;const a=Mn(i);if(!a)return;const{transform:u}=F(i).getComputedStyle(i),d=yn(u);if(!d)return;const g=typeof t=="function"?t:$o(t);return Rn(l,o.draggable.measure),g({active:{id:s,data:c.data,node:l,rect:o.draggable.measure(l)},draggableNodes:n,dragOverlay:{node:i,rect:o.dragOverlay.measure(a)},droppableContainers:r,measuringConfiguration:o,transform:d})})}function $o(e){const{duration:t,easing:n,sideEffects:r,keyframes:o}={...zo,...e};return s=>{let{active:i,dragOverlay:c,transform:l,...a}=s;if(!t)return;const u={x:c.rect.left-i.rect.left,y:c.rect.top-i.rect.top},d={scaleX:l.scaleX!==1?i.rect.width*l.scaleX/c.rect.width:1,scaleY:l.scaleY!==1?i.rect.height*l.scaleY/c.rect.height:1},g={x:l.x-u.x,y:l.y-u.y,...d},h=o({...a,active:i,dragOverlay:c,transform:{initial:l,final:g}}),[m]=h,f=h[h.length-1];if(JSON.stringify(m)===JSON.stringify(f))return;const w=r==null?void 0:r({active:i,dragOverlay:c,...a}),b=c.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(E=>{b.onfinish=()=>{w==null||w(),E()}})}}let an=0;function Fo(e){return I(()=>{if(e!=null)return an++,an},[e])}const Wo=N.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:o,transition:s,modifiers:i,wrapperElement:c="div",className:l,zIndex:a=999}=e;const{activatorEvent:u,active:d,activeNodeRect:g,containerNodeRect:h,draggableNodes:m,droppableContainers:f,dragOverlay:w,over:b,measuringConfiguration:E,scrollableAncestors:S,scrollableAncestorRects:j,windowRect:R}=Oo(),A=ae(at),x=Fo(d==null?void 0:d.id),D=Pn(i,{activatorEvent:u,active:d,activeNodeRect:g,containerNodeRect:h,draggingNodeRect:w.rect,over:b,overlayNodeRect:w.rect,scrollableAncestors:S,scrollableAncestorRects:j,transform:A,windowRect:R}),y=Pt(g),v=_o({config:r,draggableNodes:m,droppableContainers:f,measuringConfiguration:E}),p=y?w.setRef:void 0;return N.createElement(Lo,null,N.createElement(Mo,{animation:v},d&&x?N.createElement(jo,{key:x,id:d.id,ref:p,as:c,activatorEvent:u,adjustScale:t,className:l,transition:s,rect:y,style:{zIndex:a,...o},transform:D},n):null))});function Ko(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const Vo=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return!n||!t?r:Ko(r,n,t)},Xo=Symbol(),It=Symbol(),Me="a",Je="w";let Yo=(e,t)=>new Proxy(e,t);const Et=Object.getPrototypeOf,Rt=new WeakMap,jn=e=>e&&(Rt.has(e)?Rt.get(e):Et(e)===Object.prototype||Et(e)===Array.prototype),ln=e=>typeof e=="object"&&e!==null,Uo=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(n=>{n.configurable=!0}),Object.create(Et(e),t)},kn=e=>e[It]||e,Bn=(e,t,n,r)=>{if(!jn(e))return e;let o=r&&r.get(e);if(!o){const l=kn(e);o=(a=>Object.values(Object.getOwnPropertyDescriptors(a)).some(u=>!u.configurable&&!u.writable))(l)?[l,Uo(l)]:[l],r==null||r.set(e,o)}const[s,i]=o;let c=n&&n.get(s);return c&&c[1].f===!!i||(c=((l,a)=>{const u={f:a};let d=!1;const g=(m,f)=>{if(!d){let w=u[Me].get(l);if(w||(w={},u[Me].set(l,w)),m===Je)w[Je]=!0;else{let b=w[m];b||(b=new Set,w[m]=b),b.add(f)}}},h={get:(m,f)=>f===It?l:(g("k",f),Bn(Reflect.get(m,f),u[Me],u.c,u.t)),has:(m,f)=>f===Xo?(d=!0,u[Me].delete(l),!0):(g("h",f),Reflect.has(m,f)),getOwnPropertyDescriptor:(m,f)=>(g("o",f),Reflect.getOwnPropertyDescriptor(m,f)),ownKeys:m=>(g(Je),Reflect.ownKeys(m))};return a&&(h.set=h.deleteProperty=()=>!1),[h,u]})(s,!!i),c[1].p=Yo(i||s,c[0]),n&&n.set(s,c)),c[1][Me]=t,c[1].c=n,c[1].t=r,c[1].p},zn=(e,t,n,r)=>{if(Object.is(e,t))return!1;if(!ln(e)||!ln(t))return!0;const o=n.get(kn(e));if(!o)return!0;if(r){const i=r.get(e);if(i&&i.n===t)return i.g;r.set(e,{n:t,g:!1})}let s=null;try{for(const i of o.h||[])if(s=Reflect.has(e,i)!==Reflect.has(t,i),s)return s;if(o[Je]===!0){if(s=((i,c)=>{const l=Reflect.ownKeys(i),a=Reflect.ownKeys(c);return l.length!==a.length||l.some((u,d)=>u!==a[d])})(e,t),s)return s}else for(const i of o.o||[])if(s=!!Reflect.getOwnPropertyDescriptor(e,i)!=!!Reflect.getOwnPropertyDescriptor(t,i),s)return s;for(const i of o.k||[])if(s=zn(e[i],t[i],n,r),s)return s;return s===null&&(s=!0),s}finally{r&&r.set(e,{n:t,g:s})}},qo=e=>jn(e)&&e[It]||null,un=(e,t=!0)=>{Rt.set(e,t)};const wt=e=>typeof e=="object"&&e!==null,ce=new WeakMap,Ue=new WeakSet,Jo=(e=Object.is,t=(a,u)=>new Proxy(a,u),n=a=>wt(a)&&!Ue.has(a)&&(Array.isArray(a)||!(Symbol.iterator in a))&&!(a instanceof WeakMap)&&!(a instanceof WeakSet)&&!(a instanceof Error)&&!(a instanceof Number)&&!(a instanceof Date)&&!(a instanceof String)&&!(a instanceof RegExp)&&!(a instanceof ArrayBuffer),r=a=>{switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:throw a}},o=new WeakMap,s=(a,u,d=r)=>{const g=o.get(a);if((g==null?void 0:g[0])===u)return g[1];const h=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return un(h,!0),o.set(a,[u,h]),Reflect.ownKeys(a).forEach(m=>{if(Object.getOwnPropertyDescriptor(h,m))return;const f=Reflect.get(a,m),{enumerable:w}=Reflect.getOwnPropertyDescriptor(a,m),b={value:f,enumerable:w,configurable:!0};if(Ue.has(f))un(f,!1);else if(f instanceof Promise)delete b.value,b.get=()=>d(f);else if(ce.has(f)){const[E,S]=ce.get(f);b.value=s(E,S(),d)}Object.defineProperty(h,m,b)}),Object.preventExtensions(h)},i=new WeakMap,c=[1,1],l=a=>{if(!wt(a))throw new Error("object required");const u=i.get(a);if(u)return u;let d=c[0];const g=new Set,h=(y,v=++c[0])=>{d!==v&&(d=v,g.forEach(p=>p(y,v)))};let m=c[1];const f=(y=++c[1])=>(m!==y&&!g.size&&(m=y,b.forEach(([v])=>{const p=v[1](y);p>d&&(d=p)})),d),w=y=>(v,p)=>{const T=[...v];T[1]=[y,...T[1]],h(T,p)},b=new Map,E=(y,v)=>{if(g.size){const p=v[3](w(y));b.set(y,[v,p])}else b.set(y,[v])},S=y=>{var v;const p=b.get(y);p&&(b.delete(y),(v=p[1])==null||v.call(p))},j=y=>(g.add(y),g.size===1&&b.forEach(([p,T],$)=>{const W=p[3](w($));b.set($,[p,W])}),()=>{g.delete(y),g.size===0&&b.forEach(([p,T],$)=>{T&&(T(),b.set($,[p]))})}),R=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),x=t(R,{deleteProperty(y,v){const p=Reflect.get(y,v);S(v);const T=Reflect.deleteProperty(y,v);return T&&h(["delete",[v],p]),T},set(y,v,p,T){const $=Reflect.has(y,v),W=Reflect.get(y,v,T);if($&&(e(W,p)||i.has(p)&&e(W,i.get(p))))return!0;S(v),wt(p)&&(p=qo(p)||p);let le=p;if(p instanceof Promise)p.then(q=>{p.status="fulfilled",p.value=q,h(["resolve",[v],q])}).catch(q=>{p.status="rejected",p.reason=q,h(["reject",[v],q])});else{!ce.has(p)&&n(p)&&(le=l(p));const q=!Ue.has(le)&&ce.get(le);q&&E(v,q)}return Reflect.set(y,v,le,T),h(["set",[v],p,W]),!0}});i.set(a,x);const D=[R,f,s,j];return ce.set(x,D),Reflect.ownKeys(a).forEach(y=>{const v=Object.getOwnPropertyDescriptor(a,y);"value"in v&&(x[y]=a[y],delete v.value,delete v.writable),Object.defineProperty(R,y,v)}),x})=>[l,ce,Ue,e,t,n,r,o,s,i,c],[Ho]=Jo();function Go(e={}){return Ho(e)}function _n(e,t,n){const r=ce.get(e);let o;const s=[],i=r[3];let c=!1;const a=i(u=>{if(s.push(u),n){t(s.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,c&&t(s.splice(0))}))});return c=!0,()=>{c=!1,a()}}function dn(e,t){const n=ce.get(e),[r,o,s]=n;return s(r,o(),t)}var $n={exports:{}},Fn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=N;function Qo(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zo=typeof Object.is=="function"?Object.is:Qo,es=we.useState,ts=we.useEffect,ns=we.useLayoutEffect,rs=we.useDebugValue;function os(e,t){var n=t(),r=es({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return ns(function(){o.value=n,o.getSnapshot=t,mt(o)&&s({inst:o})},[e,n,t]),ts(function(){return mt(o)&&s({inst:o}),e(function(){mt(o)&&s({inst:o})})},[e]),rs(n),n}function mt(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zo(e,n)}catch{return!0}}function ss(e,t){return t()}var is=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ss:os;Fn.useSyncExternalStore=we.useSyncExternalStore!==void 0?we.useSyncExternalStore:is;$n.exports=Fn;var cs=$n.exports;const as=or(cs),{use:fn}=N,{useSyncExternalStore:ls}=as;const us=new WeakMap;function ds(e,t){const n=t==null?void 0:t.sync,r=O(),o=O();let s=!0;const i=ls(_(a=>{const u=_n(e,a,n);return a(),u},[e,n]),()=>{const a=dn(e,fn);try{if(!s&&r.current&&o.current&&!zn(r.current,a,o.current,new WeakMap))return r.current}catch{}return a},()=>dn(e,fn));s=!1;const c=new WeakMap;M(()=>{r.current=i,o.current=c});const l=I(()=>new WeakMap,[]);return Bn(i,c,l,us)}const L=Go({m:new Map,choiceIds:[],answers:[],fillBlank(e,t){let n,r;for(let o=0;o<L.answers.length;o++)L.answers[o].blankId===e&&(r=o),L.answers[o].choiceId===t&&(n=o);if(n!==void 0&&r!==void 0){const o=L.answers[n].blankId;L.answers[n].blankId=L.answers[r].blankId,L.answers[r].blankId=o}else n===void 0&&r!==void 0?(L.choiceIds=L.choiceIds.filter(o=>o!==t),L.choiceIds.push(L.answers[r].choiceId),L.answers[r].choiceId=t):(L.choiceIds=L.choiceIds.filter(o=>o!==t),L.answers=L.answers.filter(o=>o.blankId!==e&&o.choiceId!==t),L.answers.push({blankId:e,choiceId:t}))},putBackChoice(e){const t=L.answers.findIndex(n=>n.choiceId===e);t!==-1&&(L.choiceIds.push(e),L.answers.splice(t,1))}}),Wn=me({}),fs=nt(({children:e,onChange:t,...n},r)=>{const o=O(L).current;return nr(r,()=>({reset(){o.choiceIds.push(...o.answers.map(s=>s.choiceId)),o.answers=[]}})),M(()=>{const s=n.data.choices||[],i=new Map;s.forEach(c=>i.set(c.id,c)),o.m=i,o.choiceIds=Array.from(i.keys())},[n.data]),M(()=>{const s=_n(L,()=>{const i=JSON.parse(JSON.stringify(L.answers)),c=i.reduce((l,a)=>a.blankId===`__${a.choiceId}__`?++l:l,0);t(i,c)});return()=>s()},[]),P.jsx(Wn.Provider,{value:o,children:e})}),lt=()=>{const e=ae(Wn);return[ds(e),e]},Kn=nt(({className:e,choiceId:t,...n},r)=>{const[o]=lt(),s=o.m.get(t);return s?P.jsx("span",{ref:r,...n,className:["px-2 py-1 rounded-lg bg-lime-200 select-none touch-none",e].filter(Boolean).join(" "),children:s.text}):null}),Vn=({choiceId:e})=>{const{attributes:t,listeners:n,setNodeRef:r,isDragging:o}=Co({id:e,data:{type:"callisto-choice"}});return P.jsx(Kn,{choiceId:e,ref:r,className:o?"opacity-50":"cursor-grab",...n,...t})},hs=({children:e})=>{var c;const[,t,n,r]=e.match(/(.*)(__\w+__)(.*)/),[o]=lt(),s=(c=o.answers.find(l=>l.blankId===n))==null?void 0:c.choiceId,{setNodeRef:i}=In({id:n,data:{accepts:["callisto-choice"]}});return P.jsxs("span",{className:"inline-flex items-baseline -my-1",ref:i,children:[t,s?P.jsx(Vn,{choiceId:s}):P.jsx("span",{className:"bg-lime-100 rounded-lg text-center px-2 py-1 select-none min-w-[theme(spacing.32)]",children:""}),r]})},gs=({text:e})=>P.jsx("p",{className:"flex flex-wrap gap-3 items-baseline max-w-6xl m-0",children:e.split(/\s+/).map((t,n)=>/__\w+__/.test(t)?P.jsx(hs,{children:t},n):P.jsx("span",{children:t},n))}),ps=()=>{const[e]=lt(),{setNodeRef:t,isOver:n}=In({id:"choices",data:{accepts:["callisto-choice"]}});return P.jsx("div",{ref:t,className:["flex flex-wrap gap-3 justify-center rounded-lg p-2",n?"bg-neutral-100":"bg-transparent"].join(" "),children:e.choiceIds.map((r,o)=>P.jsx(Vn,{choiceId:r},o))})};const vs=({data:e,height:t="100%",width:n="100%"})=>{const r=O(null),[o]=lt(),[s,i]=X("");return P.jsx("div",{ref:r,id:"callisto",style:{height:t,width:n},children:P.jsx(Do,{modifiers:[c=>{var a;const l=(a=r.current)==null?void 0:a.getBoundingClientRect();return Vo({...c,containerNodeRect:l})}],onDragStart:({active:c})=>{i(c.id)},onDragEnd:({active:c,over:l})=>{if(i(""),!!l)if(l.id==="choices")o.putBackChoice(c.id.toString());else{if(!l.data.current.accepts.includes(c.data.current.type))return;o.fillBlank(l.id.toString(),c.id.toString())}},children:P.jsxs("div",{className:"relative font-sans text-4xl font-semibold h-full w-full p-6 flex flex-col",children:[P.jsx("div",{className:"flex-1 mx-auto",children:P.jsx(gs,{text:e.text})}),P.jsx(ps,{}),P.jsx(Wo,{dropAnimation:null,children:s?P.jsx(Kn,{choiceId:s,className:"cursor-grabbing"}):null})]})})})},ms=nt((e,t)=>P.jsx(fs,{ref:t,...e,children:P.jsx(vs,{...e})}));export{ms as default};
